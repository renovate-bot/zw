(self.webpackChunkzw=self.webpackChunkzw||[]).push([[1332],{542:function(e,t,n){e.exports={src:{srcSet:n.p+"assets/ideal-img/156726.3071dc3.640.png 640w,"+n.p+"assets/ideal-img/156726.d05ecbe.1030.png 1030w",images:[{path:n.p+"assets/ideal-img/156726.3071dc3.640.png",width:640,height:356},{path:n.p+"assets/ideal-img/156726.d05ecbe.1030.png",width:1030,height:573}],src:n.p+"assets/ideal-img/156726.3071dc3.640.png",toString:function(){return n.p+"assets/ideal-img/156726.3071dc3.640.png"},placeholder:void 0,width:640,height:356},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAgElEQVQImT3OQQ7DMAhEUZ+gwRhwTOJ01fvfcKaKo3bxpC82QznmQFwT+5GwcDRzmAfMHdrsr2yiFKkUUdbaWLWtlqqrf8p8T+Q1EaPDesDC8NxORHZ4D6gbysjByGT0TvNgM2ceB2MkmwZVndqM5bUJt5vU5Z58WpifnXHGeukLmDc985DkmXkAAAAASUVORK5CYII=",palette:null}},1221:function(e,t,n){"use strict";n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return m},metadata:function(){return c},toc:function(){return k}});var a=n(2182),l=n(9028),i=(n(9496),n(9613)),o=n(5595),s=n(542),r=n.n(s),d=["components"],m={id:"zconvey",title:"\u2699\ufe0f ZConvey",image:"zw/logo/320x320.png",description:"Zsh Plugin ZConvey documentation",keywords:["zconvey","zsh-plugin"]},p=void 0,c={unversionedId:"ecosystem/plugins/zconvey",id:"ecosystem/plugins/zconvey",title:"\u2699\ufe0f ZConvey",description:"Zsh Plugin ZConvey documentation",source:"@site/docs/ecosystem/plugins/10_zconvey.md",sourceDirName:"ecosystem/plugins",slug:"/ecosystem/plugins/zconvey",permalink:"/ru/docs/ecosystem/plugins/zconvey",editUrl:"https://digitalclouds.crowdin.com/z-shell/ru",tags:[],version:"current",lastUpdatedBy:"Salvydas Lukosius",lastUpdatedAt:1645956898,formattedLastUpdatedAt:"27.02.2022",sidebarPosition:10,frontMatter:{id:"zconvey",title:"\u2699\ufe0f ZConvey",image:"zw/logo/320x320.png",description:"Zsh Plugin ZConvey documentation",keywords:["zconvey","zsh-plugin"]},sidebar:"autoSideBar_1",previous:{title:"\u2699\ufe0f ZBrowse",permalink:"/ru/docs/ecosystem/plugins/zbrowse"},next:{title:"\u2699\ufe0f Select",permalink:"/ru/docs/ecosystem/plugins/zsh-select"}},u={},k=[{value:"Zstyles for ZConvey",id:"zstyles-for-zconvey",level:2},{value:"ZConvey commands",id:"zconvey-commands",level:2},{value:"Install ZConvey with ZI",id:"install-zconvey-with-zi",level:2},{value:"Manual ZConvey installation",id:"manual-zconvey-installation",level:2}],g={toc:k};function h(e){var t=e.components,n=(0,l.Z)(e,d);return(0,i.kt)("wrapper",(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/z-shell/zconvey"},"z-shell/zconvey"))),(0,i.kt)("p",null,"ZConvey integrates multiple Zsh sessions. They are given an ID, optionally a NAME (both unique), and can send commands\nto each other."),(0,i.kt)("p",null,"Use this to switch all your Zshells to given directory, via ",(0,i.kt)("inlineCode",{parentName:"p"},"zc-all cd $PWD"),"! Also, there's ",(0,i.kt)("inlineCode",{parentName:"p"},"zc-bg-notify")," ",(0,i.kt)("strong",{parentName:"p"},"script"),"\n(not a function), that will show notification under prompt of every active Zsh session. You can call this script from\nany program, Bash or GUI."),(0,i.kt)("hr",null),(0,i.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"You can resize the video by pressing ",(0,i.kt)("kbd",null,"Ctrl-+")," or ",(0,i.kt)("kbd",null,"Cmd-+"),"."))),(0,i.kt)("a",{href:"https://asciinema.org/a/156726"},(0,i.kt)(o.Z,{className:"ScreenView",img:r(),alt:"ZConvey view on Asciinema",mdxType:"Image"})),(0,i.kt)("p",null,"Video source: ",(0,i.kt)("a",{parentName:"p",href:"https://asciinema.org/a/156726"},"Asciinema")),(0,i.kt)("hr",null),(0,i.kt)("h2",{id:"zstyles-for-zconvey"},(0,i.kt)("a",{parentName:"h2",href:"/search?q=zstyle"},"Zstyles")," for ZConvey"),(0,i.kt)("p",null,"The values being set are the defaults. They must be set before loading the plugin."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:"left"},"Value"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" check_interval "2"'),(0,i.kt)("td",{parentName:"tr",align:null},"- How often to check if there are new commands (in seconds)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" expire_seconds "22"'),(0,i.kt)("td",{parentName:"tr",align:null},"- If shell is busy for 22 seconds, the received command will expire and not run")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" greeting "logo"'),(0,i.kt)("td",{parentName:"tr",align:null},'- Display logo at Zsh start ("text" \u2013 display text, "none" \u2013 no greeting)')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" ask "0"'),(0,i.kt)("td",{parentName:"tr",align:null},'zc won\'t ask for missing data ("1" has the same effect as always using -a option)')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" ls_after_rename "0"'),(0,i.kt)("td",{parentName:"tr",align:null},"- Don't execute zc-ls after doing rename (with zc-rename or zc-take)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" use_zsystem_flock "1"'),(0,i.kt)("td",{parentName:"tr",align:null},"- Should use faster zsystem's flock when it's possible?")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"}),(0,i.kt)("td",{parentName:"tr",align:null},"(default true on Zsh >= 5.3, will revert to mixed zsystem/flock on older Zshells)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" output_method "feeder"'),(0,i.kt)("td",{parentName:"tr",align:null},'- To put commands on command line, ZConvey can use small program "feeder". Or "zsh"')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"}),(0,i.kt)("td",{parentName:"tr",align:null},"method, which currently doesn't automatically run the command \u2013\xa0to use when e.g.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"}),(0,i.kt)("td",{parentName:"tr",align:null},"feeder doesn't build (unlikely) or when occurring any problems with it")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:"left"},'zstyle ":plugin:zconvey" timestamp_from "datetime'),(0,i.kt)("td",{parentName:"tr",align:null},'- Use zsh/datetime module for obtaining timestamp. "date" \u2013 use date command (fork)')))),(0,i.kt)("h2",{id:"zconvey-commands"},"ZConvey commands"),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Command"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc")),(0,i.kt)("td",{parentName:"tr",align:"left"},'Sends to other session; use "-a" option to be asked for target and a command to send')),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-ls")),(0,i.kt)("td",{parentName:"tr",align:"left"},"Lists all active and named sessions")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-id")),(0,i.kt)("td",{parentName:"tr",align:"left"},"Shows ID and NAME of current session")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-all")),(0,i.kt)("td",{parentName:"tr",align:"left"},"The same as ",(0,i.kt)("inlineCode",{parentName:"td"},"zc"),", but targets are all other active sessions (with ",(0,i.kt)("inlineCode",{parentName:"td"},"-f")," also busy sessions)")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-take")),(0,i.kt)("td",{parentName:"tr",align:"left"},"Takes a name for current or selected sessions, schematically renames any conflicting sessions")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-logo")),(0,i.kt)("td",{parentName:"tr",align:"left"},"The same as ",(0,i.kt)("inlineCode",{parentName:"td"},"zc-id"),", but in a form of an on-screen logo; bound to Ctrl-O Ctrl-I")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-rename")),(0,i.kt)("td",{parentName:"tr",align:"left"},"Assigns name to current or selected session; won't rename if there's a session with the same name")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"zc-bg-notify")),(0,i.kt)("td",{parentName:"tr",align:"left"},"In subdirectory ",(0,i.kt)("inlineCode",{parentName:"td"},"cmds"),", link it to ",(0,i.kt)("inlineCode",{parentName:"td"},"/usr/local/bin"),", etc. or load with e.g. ZI")))),(0,i.kt)("p",null,"The main command is ",(0,i.kt)("inlineCode",{parentName:"p"},"zc")," (yet it is rather rarely used, I'm always sending to all sessions with ",(0,i.kt)("inlineCode",{parentName:"p"},"zc-all"),"). It is used to\nexecute commands on other sessions. ",(0,i.kt)("inlineCode",{parentName:"p"},"zc-ls")," is the main tool to obtain overall information on sessions. ",(0,i.kt)("inlineCode",{parentName:"p"},"zc-take")," is a\nnice rename tool to quickly name a few sessions. Keyboard shortcut Ctrl-O Ctrl-I will show current session's ID and NAME\nin form of an on-screen logo."),(0,i.kt)("h2",{id:"install-zconvey-with-zi"},"Install ZConvey with ZI"),(0,i.kt)("p",null,"Add ",(0,i.kt)("inlineCode",{parentName:"p"},"zi load z-shell/zconvey")," to your ",(0,i.kt)("inlineCode",{parentName:"p"},".zshrc")," file. ZI will clone the plugin the next time you start zsh. To update\nissue ",(0,i.kt)("inlineCode",{parentName:"p"},"zi update z-shell/zconvey"),"."),(0,i.kt)("p",null,"ZI can load in ",(0,i.kt)("a",{parentName:"p",href:"/search?q=turbo+and+lucid"},"turbo mode"),", below is an example configuration."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'zi ice wait"0"\nzi light z-shell/zconvey\n')),(0,i.kt)("p",null,"Adding ",(0,i.kt)("inlineCode",{parentName:"p"},"zc-bg-notify")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"$PATH"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},'zi ice wait"0" as"command" pick"cmds/zc-bg-notify" silent\nzi light z-shell/zconvey\n')),(0,i.kt)("h2",{id:"manual-zconvey-installation"},"Manual ZConvey installation"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},'The plugin is "standalone"'),", which means that only sourcing it is needed. So to install, unpack ",(0,i.kt)("inlineCode",{parentName:"p"},"zconvey")," somewhere\nand add"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"source {where-zconvey-is}/zconvey.plugin.zsh\n")),(0,i.kt)("p",null,"to ",(0,i.kt)("inlineCode",{parentName:"p"},"zshrc"),"."),(0,i.kt)("p",null,"If using a plugin manager, then ",(0,i.kt)("inlineCode",{parentName:"p"},"ZI")," is recommended, but you can use any other too, and also install with ",(0,i.kt)("inlineCode",{parentName:"p"},"Oh My Zsh"),"\n(by copying directory to ",(0,i.kt)("inlineCode",{parentName:"p"},"~/.oh-my-zsh/custom/plugins"),")."),(0,i.kt)("p",null,"The plugin integrates with my other plugin ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/z-shell/zsh-select"},"z-shell/zsh-select"),". Install it with\ne.g. ZI to be able to use ",(0,i.kt)("inlineCode",{parentName:"p"},"-a")," option for ",(0,i.kt)("inlineCode",{parentName:"p"},"zc")," command."))}h.isMDXComponent=!0}}]);