"use strict";(self.webpackChunkzw=self.webpackChunkzw||[]).push([[9890],{9613:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return h}});var a=n(9496);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var r=a.createContext({}),p=function(e){var t=a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(r.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,l=e.originalType,r=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=p(n),h=i,u=c["".concat(r,".").concat(h)]||c[h]||m[h]||l;return n?a.createElement(u,o(o({ref:t},d),{},{components:n})):a.createElement(u,o({ref:t},d))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var l=n.length,o=new Array(l);o[0]=c;var s={};for(var r in t)hasOwnProperty.call(t,r)&&(s[r]=t[r]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<l;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},2238:function(e,t,n){n.r(t),n.d(t,{assets:function(){return d},contentTitle:function(){return r},default:function(){return h},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return m}});var a=n(2182),i=n(9028),l=(n(9496),n(9613)),o=["components"],s={title:"\u2611\ufe0f Quick overview",image:"zw/logo/320x320.png",description:"Overview of use cases for Z-Shell ZI",keywords:["overview"]},r=void 0,p={unversionedId:"getting_started/overview",id:"getting_started/overview",title:"\u2611\ufe0f Quick overview",description:"Overview of use cases for Z-Shell ZI",source:"@site/docs/getting_started/02_overview.md",sourceDirName:"getting_started",slug:"/getting_started/overview",permalink:"/ja/docs/getting_started/overview",editUrl:"https://digitalclouds.crowdin.com/z-shell/ja",tags:[],version:"current",lastUpdatedBy:"Salvydas Lukosius",lastUpdatedAt:1647243319,formattedLastUpdatedAt:"2022/3/14",sidebarPosition:2,frontMatter:{title:"\u2611\ufe0f Quick overview",image:"zw/logo/320x320.png",description:"Overview of use cases for Z-Shell ZI",keywords:["overview"]},sidebar:"autoSideBar_1",previous:{title:"\u26a1\ufe0f Installation",permalink:"/ja/docs/getting_started/installation"},next:{title:"\u267b\ufe0f Migration",permalink:"/ja/docs/getting_started/migration"}},d={},m=[{value:"Basics of the loading plugins",id:"basics-of-the-loading-plugins",level:2},{value:"Oh My Zsh, Prezto",id:"oh-my-zsh-prezto",level:2},{value:"Snippets and Performance",id:"snippets-and-performance",level:2},{value:"Ice Modifiers",id:"ice-modifiers",level:2},{value:"About as&quot;program&quot;",id:"about-asprogram",level:2},{value:"About - atpull&quot;\u2026&quot;",id:"about---atpull",level:2},{value:"Snippets as&#39;\u2026&#39; commands",id:"snippets-as-commands",level:2},{value:"Snippets as&#39;\u2026&#39; completions",id:"snippets-as-completions",level:2},{value:"The completion management",id:"the-completion-management",level:2},{value:"Listing available completions",id:"listing-available-completions",level:3},{value:"Enabling / disabling - completions",id:"enabling--disabling---completions",level:3},{value:"The subversion for subdirectories",id:"the-subversion-for-subdirectories",level:2},{value:"Turbo Mode (Zsh &gt;= 5.3)",id:"turbo-mode-zsh--53",level:2},{value:"A Quick Glance At for syntax",id:"a-quick-glance-at-for-syntax",level:2},{value:"Turbo with sophisticated prompts",id:"turbo-with-sophisticated-prompts",level:2},{value:"Automatic load/unload based on condition",id:"automatic-loadunload-based-on-condition",level:2},{value:"Plugins and snippets",id:"plugins-and-snippets",level:2},{value:"The fundamental difference between <code>load</code> and <code>light</code>",id:"the-fundamental-difference-between-load-and-light",level:3},{value:"A Glance to prompts",id:"a-glance-to-prompts",level:3},{value:"ZI Upgrades",id:"zi-upgrades",level:2},{value:"The Turbo and Lucid",id:"the-turbo-and-lucid",level:2},{value:"Turbo",id:"turbo",level:3},{value:"Lucid",id:"lucid",level:3},{value:"Some examples with ZI",id:"some-examples-with-zi",level:3},{value:"As glance at the <code>for</code> syntax",id:"as-glance-at-the-for-syntax",level:3}],c={toc:m};function h(e){var t=e.components,n=(0,i.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"This overview will cover basics for:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"/search?q=Oh+My+Zsh+%26+Prezto"},"Oh My Zsh & Prezto")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"/search?q=completions"},"Completions")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"/search?q=turbo+mode"},"Turbo mode")),(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("a",{parentName:"li",href:"/search?q=ice+modifiers"},"Ice modifiers"))),(0,l.kt)("h2",{id:"basics-of-the-loading-plugins"},"Basics of the loading plugins"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi load z-shell/H-S-MW\nzi light zsh-users/zsh-syntax-highlighting\n")),(0,l.kt)("p",null,"The above commands show two ways of basic plugin loading."),(0,l.kt)("p",null,"Using ",(0,l.kt)("inlineCode",{parentName:"p"},"load")," causes reporting to be enabled \u2013 you can track what plugin does, view the information with\n",(0,l.kt)("inlineCode",{parentName:"p"},"zi report {plugin-name}")," and then also unload the plugin with ",(0,l.kt)("inlineCode",{parentName:"p"},"zi unload {plugin-name}"),"."),(0,l.kt)("p",null,"Using ",(0,l.kt)("inlineCode",{parentName:"p"},"light")," is a significantly faster loading without tracking and reporting, by using which user resigns of the\nability to view the plugin report and to unload it."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"In Turbo mode the slowdown caused by tracking is negligible..."))),(0,l.kt)("h2",{id:"oh-my-zsh-prezto"},"Oh My Zsh, Prezto"),(0,l.kt)("p",null,"To load Oh My Zsh and Prezto plugins, use the ",(0,l.kt)("inlineCode",{parentName:"p"},"snippet")," feature. Snippets are single files downloaded by ",(0,l.kt)("inlineCode",{parentName:"p"},"curl"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"wget"),",\netc., automatic detection of the download tool is being performed, directly from the URL. For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi snippet 'https://github.com/robbyrussell/oh-my-zsh/raw/master/plugins/git/git.plugin.zsh'\nzi snippet 'https://github.com/sorin-ionescu/prezto/blob/master/modules/helper/init.zsh'\n")),(0,l.kt)("p",null,"Also, for Oh My Zsh and Prezto, you can use ",(0,l.kt)("inlineCode",{parentName:"p"},"OMZ::")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"PZT::")," shorthands:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi snippet OMZ::plugins/git/git.plugin.zsh\nzi snippet PZT::modules/helper/init.zsh\n")),(0,l.kt)("p",null,"Moreover, snippets support Subversion protocol, supported also by Github. This allows loading snippets that are\nmulti-file (for example, a Prezto module can consist of two or more files, e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"init.zsh")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"alias.zsh"),")."),(0,l.kt)("p",null,"Default files that will be sourced are: ",(0,l.kt)("inlineCode",{parentName:"p"},"*.plugin.zsh"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"init.zsh"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"*.zsh-theme"),":"),(0,l.kt)("p",null,"URL points to a directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{3}","{3}":!0},"zi ice svn\nzi snippet PZT::modules/docker\n")),(0,l.kt)("h2",{id:"snippets-and-performance"},"Snippets and Performance"),(0,l.kt)("p",null,"Using ",(0,l.kt)("inlineCode",{parentName:"p"},"curl"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"wget"),", etc. along with Subversion allows to almost completely avoid code dedicated to Oh My Zsh and\nPrezto, and also to other frameworks."),(0,l.kt)("p",null,"This gives profits in performance of ",(0,l.kt)("inlineCode",{parentName:"p"},"ZI"),", it is really fast and also compact (causing low memory footprint and short\nloading time)."),(0,l.kt)("h2",{id:"ice-modifiers"},"Ice Modifiers"),(0,l.kt)("p",null,"The command ",(0,l.kt)("inlineCode",{parentName:"p"},"zi ice")," provides ",(0,l.kt)("a",{parentName:"p",href:"/search?q=ice+modifiers"},"ice modifiers")," for the single next command."),(0,l.kt)("p",null,'The logic is that "ice" is something that\u2019s added, e.g. to a drink or a coffee, and in the ZI sense this means that ice\nis a modifier added to the next ZI command, and also something that melts, so it doesn\u2019t last long, \u2013 and in the ZI use\nit means that the modifier lasts for only single next ZI command.'),(0,l.kt)("p",null,'Using one other ice modifier "',(0,l.kt)("strong",{parentName:"p"},"pick"),'" users can explicitly ',(0,l.kt)("strong",{parentName:"p"},"select the file to source"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{1}","{1}":!0},'zi ice svn pick"init.zsh"\nzi snippet PZT::modules/git\n')),(0,l.kt)("p",null,"Content of ice-modifier is simply put into ",(0,l.kt)("inlineCode",{parentName:"p"},'"\u2026"'),", ",(0,l.kt)("inlineCode",{parentName:"p"},"'\u2026'"),", or ",(0,l.kt)("inlineCode",{parentName:"p"},"$'\u2026'"),". No need for ",(0,l.kt)("inlineCode",{parentName:"p"},'":"')," after the ice-mod name (although\nit's allowed, so as the equal sign ",(0,l.kt)("inlineCode",{parentName:"p"},"="),", so e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},'pick="init.zsh"')," or ",(0,l.kt)("inlineCode",{parentName:"p"},"pick=init.zsh")," are being correctly recognized)."),(0,l.kt)("p",null,"This way editors like ",(0,l.kt)("inlineCode",{parentName:"p"},"vim")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"emacs")," and also ",(0,l.kt)("inlineCode",{parentName:"p"},"zsh-users/zsh-syntax-highlighting")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"z-shell/F-Sy-H")," will highlight\ncontents of ice-modifiers."),(0,l.kt)("h2",{id:"about-asprogram"},'About as"program"'),(0,l.kt)("p",null,"A plugin might not be a file for sourcing, but a command to be added to ",(0,l.kt)("inlineCode",{parentName:"p"},"$PATH"),". To obtain this effect, use ice-modifier\n",(0,l.kt)("inlineCode",{parentName:"p"},"as")," with value ",(0,l.kt)("inlineCode",{parentName:"p"},"program")," (or an alias value ",(0,l.kt)("inlineCode",{parentName:"p"},"command"),")."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'zi ice as"program" cp"httpstat.sh -> httpstat" pick"httpstat"\nzi light b4b4r07/httpstat\n')),(0,l.kt)("p",null,"The above command will add plugin directory to ",(0,l.kt)("inlineCode",{parentName:"p"},"$PATH"),", copy file ",(0,l.kt)("inlineCode",{parentName:"p"},"httpstat.sh")," into ",(0,l.kt)("inlineCode",{parentName:"p"},"httpstat")," and add execution rights\n(",(0,l.kt)("inlineCode",{parentName:"p"},"+x"),") to the file selected with ",(0,l.kt)("inlineCode",{parentName:"p"},"pick"),", i.e. to ",(0,l.kt)("inlineCode",{parentName:"p"},"httpstat"),". Another ice-mod exists, ",(0,l.kt)("inlineCode",{parentName:"p"},"mv"),", which works like ",(0,l.kt)("inlineCode",{parentName:"p"},"cp")," but\n",(0,l.kt)("strong",{parentName:"p"},"moves")," a file instead of ",(0,l.kt)("strong",{parentName:"p"},"copying")," it. ",(0,l.kt)("inlineCode",{parentName:"p"},"mv")," is ran before ",(0,l.kt)("inlineCode",{parentName:"p"},"cp"),"."),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The ",(0,l.kt)("inlineCode",{parentName:"p"},"cp")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"mv")," ices (and also as some other ones, like ",(0,l.kt)("inlineCode",{parentName:"p"},"atclone"),") are being run when the plugin or snippet is being\n",(0,l.kt)("em",{parentName:"p"},"installed"),".s"),(0,l.kt)("p",{parentName:"div"},"To test them again first delete the plugin or snippet by ",(0,l.kt)("inlineCode",{parentName:"p"},"zi delete PZT::modules/osx")," (for example)."))),(0,l.kt)("h2",{id:"about---atpull"},'About - atpull"\u2026"'),(0,l.kt)("p",null,"Copying file is safe for doing later updates \u2013 original files of the repository are unmodified and ",(0,l.kt)("inlineCode",{parentName:"p"},"Git")," will report no\nconflicts."),(0,l.kt)("p",null,"However, ",(0,l.kt)("inlineCode",{parentName:"p"},"mv")," also can be used, if a proper ",(0,l.kt)("inlineCode",{parentName:"p"},"atpull"),", an ice\u2013modifier ran at ",(0,l.kt)("strong",{parentName:"p"},"update")," of the plugin, will be used:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'zi ice as"program" mv"httpstat.sh -> httpstat" \\\n  pick"httpstat" atpull\'!git reset --hard\'\nzi light b4b4r07/httpstat\n')),(0,l.kt)("p",null,"If ",(0,l.kt)("inlineCode",{parentName:"p"},"atpull")," starts with an exclamation mark, then it will be run before ",(0,l.kt)("inlineCode",{parentName:"p"},"git pull"),", and before ",(0,l.kt)("inlineCode",{parentName:"p"},"mv"),". Nevertheless,\n",(0,l.kt)("inlineCode",{parentName:"p"},"atpull"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"mv"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"cp")," are run ",(0,l.kt)("strong",{parentName:"p"},"only if new commits are to be fetched"),"."),(0,l.kt)("p",null,"So in summary, when the user runs ",(0,l.kt)("inlineCode",{parentName:"p"},"zi update b4b4r07/httpstat")," to update this plugin, and there are new commits, what\nhappens first is that ",(0,l.kt)("inlineCode",{parentName:"p"},"git reset --hard")," is run \u2013 and it ",(0,l.kt)("strong",{parentName:"p"},"restores")," original ",(0,l.kt)("inlineCode",{parentName:"p"},"httpstat.sh"),", ",(0,l.kt)("strong",{parentName:"p"},"then")," ",(0,l.kt)("inlineCode",{parentName:"p"},"git pull")," is ran\nand it downloads new commits (doing fast-forward), ",(0,l.kt)("strong",{parentName:"p"},"then")," ",(0,l.kt)("inlineCode",{parentName:"p"},"mv")," is running again so that the command is ",(0,l.kt)("inlineCode",{parentName:"p"},"httpstat")," not\n",(0,l.kt)("inlineCode",{parentName:"p"},"httpstat.sh"),"."),(0,l.kt)("p",null,"This way the ",(0,l.kt)("inlineCode",{parentName:"p"},"mv")," ice can be used to induce permanent changes into the plugin's contents without blocking the ability to\nupdate it with ",(0,l.kt)("inlineCode",{parentName:"p"},"git")," (or with ",(0,l.kt)("inlineCode",{parentName:"p"},"subversion")," in case of snippets, more on this below)."),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"For exclamation marks to not be expanded by Zsh an interactive session, use ",(0,l.kt)("inlineCode",{parentName:"p"},"'\u2026'")," not ",(0,l.kt)("inlineCode",{parentName:"p"},'"\u2026"')," to enclose contents of\n",(0,l.kt)("inlineCode",{parentName:"p"},"atpull")," ",(0,l.kt)("a",{parentName:"p",href:"/search?q=ice-modifier"},"ice-modifier"),"."))),(0,l.kt)("h2",{id:"snippets-as-commands"},"Snippets as'\u2026' commands"),(0,l.kt)("p",null,"Commands can also be added to ",(0,l.kt)("inlineCode",{parentName:"p"},"$PATH")," using ",(0,l.kt)("strong",{parentName:"p"},"snippets"),". For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{2,4}","{2,4}":!0},'zi ice mv"httpstat.sh -> httpstat" \\\n  pick"httpstat" as"program"\nzi snippet \\\n  https://github.com/b4b4r07/httpstat/blob/master/httpstat.sh\n')),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Snippets also support ",(0,l.kt)("inlineCode",{parentName:"p"},"atpull"),", so it\u2019s possible to do e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"atpull'!svn revert'"),"."),(0,l.kt)("p",{parentName:"div"},"There\u2019s also an ",(0,l.kt)("inlineCode",{parentName:"p"},"atinit")," ice-modifier, executed before each loading of plugin or snippet."))),(0,l.kt)("h2",{id:"snippets-as-completions"},"Snippets as'\u2026' completions"),(0,l.kt)("p",null,"By using the ",(0,l.kt)("inlineCode",{parentName:"p"},"as''")," ice modifier with value ",(0,l.kt)("inlineCode",{parentName:"p"},"completion")," you can point the ",(0,l.kt)("inlineCode",{parentName:"p"},"snippet")," subcommand directly to a completion\nfile:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{2}","{2}":!0},'zi ice as"completion"\nzi snippet https://github.com/docker/cli/blob/master/contrib/completion/zsh/_docker\n')),(0,l.kt)("h2",{id:"the-completion-management"},"The completion management"),(0,l.kt)("p",null,"ZI allows to disable and enable each completion in every plugin. Try installing a popular plugin that provides\ncompletions:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{1}","{1}":!0},"zi ice blockf\nzi light zsh-users/zsh-completions\n")),(0,l.kt)("p",null,"The first command, the ",(0,l.kt)("inlineCode",{parentName:"p"},"blockf")," ice, will block the traditional method of adding completions. ZI uses its method, based\non symlinks instead of adding several directories to ",(0,l.kt)("inlineCode",{parentName:"p"},"$fpath"),"."),(0,l.kt)("p",null,"ZI will automatically ",(0,l.kt)("strong",{parentName:"p"},"install")," completions of a newly downloaded plugin."),(0,l.kt)("p",null,"To uninstall the completions and install them again, you would use:"),(0,l.kt)("p",null,"Uninstall: ",(0,l.kt)("inlineCode",{parentName:"p"},"zi cuninstall zsh-users/zsh-completions")),(0,l.kt)("p",null,"Install: ",(0,l.kt)("inlineCode",{parentName:"p"},"zi creinstall zsh-users/zsh-completions")),(0,l.kt)("h3",{id:"listing-available-completions"},"Listing available completions"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("inlineCode",{parentName:"p"},"zini")," is an alias that can be used in interactive sessions."))),(0,l.kt)("p",null,"To see what completions ",(0,l.kt)("strong",{parentName:"p"},"all")," plugins provide, in tabular formatting and with the name of each plugin, use:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zini clist\n")),(0,l.kt)("p",null,"This command is specially adapted for plugins like ",(0,l.kt)("inlineCode",{parentName:"p"},"zsh-users/zsh-completions"),", which provide many completions \u2013 listing\nwill have ",(0,l.kt)("inlineCode",{parentName:"p"},"3")," completions per line, so that a smaller number of terminal pages will be occupied like this:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"\u2026\natach, bitcoin-cli, bower zsh-users/zsh-completions\nbundle, caffeinate, cap zsh-users/zsh-completions\ncask, cf, chattr zsh-users/zsh-completions\n\u2026\n")),(0,l.kt)("p",null,"You can show more completions per line by providing an ",(0,l.kt)("strong",{parentName:"p"},"argument")," to ",(0,l.kt)("inlineCode",{parentName:"p"},"clist"),", e.g. ",(0,l.kt)("inlineCode",{parentName:"p"},"zi clist 6"),", will show:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"\u2026\nbundle, caffeinate, cap, cask, cf, chattr zsh-users/zsh-completions\ncheat, choc, cmake, coffee, column, composer zsh-users/zsh-completions\nconsole, dad, debuild, dget, dhcpcd, diana zsh-users/zsh-completions\n\u2026\n")),(0,l.kt)("h3",{id:"enabling--disabling---completions"},"Enabling / disabling - completions"),(0,l.kt)("p",null,"Completions can be disabled so that e.g. original Zsh completion will be used."),(0,l.kt)("p",null,"The commands are very basic, they only need completion ",(0,l.kt)("strong",{parentName:"p"},"name"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{1,3}","{1,3}":!0},"$ zi cdisable cmake\nDisabled cmake completion belonging to zsh-users/zsh-completions\n$ zi cenable cmake\nEnabled cmake completion belonging to zsh-users/zsh-completions\n")),(0,l.kt)("p",null,"That\u2019s all on completions. There\u2019s one more command, ",(0,l.kt)("inlineCode",{parentName:"p"},"zi csearch"),", that will ",(0,l.kt)("strong",{parentName:"p"},"search")," all plugin directories for\navailable completions, and show if they are installed:"),(0,l.kt)("p",null,"This sums up complete control over completions."),(0,l.kt)("h2",{id:"the-subversion-for-subdirectories"},"The subversion for subdirectories"),(0,l.kt)("p",null,"In general, to use ",(0,l.kt)("strong",{parentName:"p"},"subdirectories")," of Github projects as snippets add ",(0,l.kt)("inlineCode",{parentName:"p"},"/trunk/{path-to-dir}")," to URL, for example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice svn\nzi snippet https://github.com/zsh-users/zsh-completions/trunk/src\n")),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"For Oh My Zsh and Prezto, the OMZ:: and PZT:: prefixes work without the need to add the ",(0,l.kt)("inlineCode",{parentName:"p"},"/trunk/")," infix, however, the\npath should point to a directory, not to a file."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice svn\nzi snippet PZT::modules/docker\n")),(0,l.kt)("p",null,"Snippets too have completions installed by default, like plugins."),(0,l.kt)("h2",{id:"turbo-mode-zsh--53"},"Turbo Mode (Zsh >= 5.3)"),(0,l.kt)("p",null,"The ice-mod ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," allows the user to postpone the loading of a plugin to the moment when the processing of ",(0,l.kt)("inlineCode",{parentName:"p"},".zshrc")," is\nfinished and the first prompt is being shown."),(0,l.kt)("p",null,"It is like Windows \u2013 during startup, it shows desktop even though it still loads data in the background."),(0,l.kt)("p",null,"This has drawbacks but is for sure better than a blank screen for 10 minutes. And here, in ZI, there are no drawbacks of\nthis approach \u2013 no lags, freezes, etc. \u2013 the command line is fully usable while the plugins are being loaded, for any\nnumber of plugins."),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Turbo will speed up Zsh startup by ",(0,l.kt)("strong",{parentName:"p"},"50%\u201380%"),". For example, instead of 200 ms, it'll be 40 ms."))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Zsh 5.3 or greater is required."))),(0,l.kt)("p",null,"To use this Turbo mode add ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," ice to the target plugin in one of the following ways:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"PS1=\"READY > \"\nzi ice wait'!0'\nzi load halfo/lambda-mod-zsh-theme\n")),(0,l.kt)("p",null,"This sets plugin ",(0,l.kt)("inlineCode",{parentName:"p"},"halfo/lambda-mod-zsh-theme")," to be loaded ",(0,l.kt)("inlineCode",{parentName:"p"},"0")," seconds after ",(0,l.kt)("inlineCode",{parentName:"p"},"zshrc"),"."),(0,l.kt)("p",null,"It will fire up after c.a. 1 ms of showing the basic prompt ",(0,l.kt)("inlineCode",{parentName:"p"},"READY >"),"."),(0,l.kt)("p",null,"You probably won't load the prompt in such a way, however, it is a good example in which Turbo can be directly observed."),(0,l.kt)("p",null,"The exclamation mark causes ZI to reset the prompt after loading the plugin \u2013 it is needed for themes. The same with\nPrezto prompts, with a longer delay:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice svn silent wait'!1' atload'prompt smiley'\nzi snippet PZT::modules/prompt\n")),(0,l.kt)("p",null,"Using ",(0,l.kt)("inlineCode",{parentName:"p"},"zsh-users/zsh-autosuggestions")," without any drawbacks:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice wait lucid atload'_zsh_autosuggest_start'\nzi light zsh-users/zsh-autosuggestions\n")),(0,l.kt)("p",null,"Explanation:"),(0,l.kt)("p",null,"Autosuggestions use the ",(0,l.kt)("inlineCode",{parentName:"p"},"precmd")," hook, which is being called right after processing ",(0,l.kt)("inlineCode",{parentName:"p"},"zshrc")," \u2013 ",(0,l.kt)("inlineCode",{parentName:"p"},"precmd")," hooks are being\ncalled ",(0,l.kt)("strong",{parentName:"p"},"right before displaying each prompt"),"."),(0,l.kt)("p",null,"Turbo with the empty ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," ice will postpone the loading ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," ms after that, so ",(0,l.kt)("inlineCode",{parentName:"p"},"precmd")," will not be called at that\nfirst prompt. This makes autosuggestions inactive at the first prompt."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"However")," the given ",(0,l.kt)("inlineCode",{parentName:"p"},"atload")," ice-mod fixes this, it calls the same function that ",(0,l.kt)("inlineCode",{parentName:"p"},"precmd")," would, right after loading\nautosuggestions, resulting in the same behavior of the plugin."),(0,l.kt)("p",null,"The ice ",(0,l.kt)("inlineCode",{parentName:"p"},"lucid")," causes the under-prompt message saying ",(0,l.kt)("inlineCode",{parentName:"p"},"Loaded zsh-users/zsh-autosuggestions")," that normally appears for\nevery Turbo-loaded plugin to not show."),(0,l.kt)("h2",{id:"a-quick-glance-at-for-syntax"},"A Quick Glance At ",(0,l.kt)("a",{parentName:"h2",href:"/docs/guides/syntax/for"},(0,l.kt)("inlineCode",{parentName:"a"},"for"))," syntax"),(0,l.kt)("p",null,"This introduction is based on the classic, two-command syntax (",(0,l.kt)("inlineCode",{parentName:"p"},"zi ice \u2026; zi load/light/snippet \u2026"),") of ZI. However,\nthere's also available a recently added so-called ",(0,l.kt)("em",{parentName:"p"},"for-syntax"),"."),(0,l.kt)("p",null,"It is the right moment to take a glance at it, by rewriting the above autosuggestions invocation using it:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi wait lucid atload'_zsh_autosuggest_start' light-mode for zsh-users/zsh-autosuggestions\n")),(0,l.kt)("p",null,"The syntax is a more concise one. The single command will work the same as the previous classic-syntax invocation. It\nalso allows solving some typical problems when using ZI, like providing common/default ices for a set of plugins or\nsourcing multiple files with ",(0,l.kt)("a",{parentName:"p",href:"/docs/guides/syntax/ice#src-pick-multisrc"},(0,l.kt)("inlineCode",{parentName:"a"},"src''")," ice"),". For more information refer to the page dedicated to the syntax\n(",(0,l.kt)("a",{parentName:"p",href:"/docs/guides/syntax/for"},"here"),")."),(0,l.kt)("h2",{id:"turbo-with-sophisticated-prompts"},"Turbo with sophisticated prompts"),(0,l.kt)("p",null,"For some, mostly advanced themes the initialization of the prompt is being done in a ",(0,l.kt)("inlineCode",{parentName:"p"},"precmd"),"-hook, i.e.; in a function\nthat's gets called before each prompt."),(0,l.kt)("p",null,"The hook is installed by the ",(0,l.kt)("a",{parentName:"p",href:"/community/intro#use-of-add-zsh-hook-to-install-hooks"},"add-zsh-hook")," Zsh function by adding its name to the ",(0,l.kt)("inlineCode",{parentName:"p"},"$precmd_functions")," array."),(0,l.kt)("p",null,"To make the prompt fully initialized after Turbo loading in the middle of the prompt the same situation as with the\n",(0,l.kt)("inlineCode",{parentName:"p"},"zsh-autosuggestions")," plugin, the hook should be called from ",(0,l.kt)("inlineCode",{parentName:"p"},"atload''")," ice`."),(0,l.kt)("p",null,"First, find the name of the hook function by examining the ",(0,l.kt)("inlineCode",{parentName:"p"},"$precmd_functions")," array."),(0,l.kt)("p",null,"For example, for the ",(0,l.kt)("inlineCode",{parentName:"p"},"robobenklein/zinc")," theme, they'll be two functions: ",(0,l.kt)("inlineCode",{parentName:"p"},"prompt_zinc_setup")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"prompt_zinc_precmd"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"root@sg > ~ > print $precmd_functions < \u2714 < 22:21:33\n_zsh_autosuggest_start prompt_zinc_setup prompt_zinc_precmd\n")),(0,l.kt)("p",null,"Then, add them to the ice-list in the ",(0,l.kt)("inlineCode",{parentName:"p"},"atload''")," ice:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{2}","{2}":!0},"zi ice wait'!' lucid nocd \\\n  atload'!prompt_zinc_setup; prompt_zinc_precmd'\nzi load robobenklein/zinc\n")),(0,l.kt)("p",null,"The exclamation mark in ",(0,l.kt)("inlineCode",{parentName:"p"},"atload'!\u2026'")," is to track the functions allowing the plugin to be unloaded, as described\n",(0,l.kt)("a",{parentName:"p",href:"/docs/guides/syntax/ice#atclone-atpull-atinit-atload"},"here"),". It might be useful for the multi-prompt setup described next."),(0,l.kt)("h2",{id:"automatic-loadunload-based-on-condition"},"Automatic load/unload based on condition"),(0,l.kt)("p",null,"Ices ",(0,l.kt)("inlineCode",{parentName:"p"},"load")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"unload")," allow defining when you want plugins active or inactive. For example:"),(0,l.kt)("p",null,"Load when in ~/tmp"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{1}","{1}":!0},"zi ice load'![[ $PWD = */tmp* ]]' unload'![[ $PWD != */tmp* ]]' \\\n  atload\"!promptinit; prompt sprint3\"\nzi load psprint/zprompts\n")),(0,l.kt)("p",null,"Load when NOT in ~/tmp"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:"{1}","{1}":!0},"zi ice load'![[ $PWD != */tmp* ]]' unload'![[ $PWD = */tmp* ]]'\nzi load russjohnson/angry-fly-zsh\n")),(0,l.kt)("p",null,"Two prompts, each active in different directories. This technique can be used to have plugin-sets, e.g. by defining\nparameter ",(0,l.kt)("inlineCode",{parentName:"p"},"$PLUGINS")," with possible values like ",(0,l.kt)("inlineCode",{parentName:"p"},"cpp"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"web"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"admin")," and by setting ",(0,l.kt)("inlineCode",{parentName:"p"},"load")," / ",(0,l.kt)("inlineCode",{parentName:"p"},"unload")," conditions to\nactivate different plugins on ",(0,l.kt)("inlineCode",{parentName:"p"},"cpp"),", on ",(0,l.kt)("inlineCode",{parentName:"p"},"web"),", etc."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"The difference with ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," is that ",(0,l.kt)("inlineCode",{parentName:"p"},"load")," / ",(0,l.kt)("inlineCode",{parentName:"p"},"unload")," are constantly active, not only till the first activation.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Note that for the unloading of a plugin to work the plugin needs to be loaded with tracking, so ",(0,l.kt)("inlineCode",{parentName:"p"},"zi load \u2026")," and not\n",(0,l.kt)("inlineCode",{parentName:"p"},"zi light \u2026"),"."))),(0,l.kt)("p",{parentName:"div"},"Tracking causes a slight slowdown, however, this doesn\u2019t influence Zsh startup time when using Turbo mode."))),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"See: ",(0,l.kt)("a",{parentName:"p",href:"/docs/guides/customization#multiple-prompts"},"multiple prompts")," for more information. It contains more real-world examples of a multi-prompt setup, which is\nbeing close to what the author uses in his setup."))),(0,l.kt)("h2",{id:"plugins-and-snippets"},"Plugins and snippets"),(0,l.kt)("p",null,"Plugins can be loaded using ",(0,l.kt)("inlineCode",{parentName:"p"},"load")," or ",(0,l.kt)("inlineCode",{parentName:"p"},"light"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi load  <repo/plugin> # Load with reporting/investigating.\nzi light <repo/plugin> # Load without reporting/investigating.\n")),(0,l.kt)("p",null,"If you want to source local or remote files (using direct URL), you can do so with ",(0,l.kt)("inlineCode",{parentName:"p"},"snippet"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi snippet <URL>\n")),(0,l.kt)("p",null,"Such lines should be added to ",(0,l.kt)("inlineCode",{parentName:"p"},".zshrc"),"."),(0,l.kt)("p",null,"Snippets are cached locally, use the ",(0,l.kt)("inlineCode",{parentName:"p"},"-f")," option to download a fresh version of a snippet, or ",(0,l.kt)("inlineCode",{parentName:"p"},"zi update {URL}"),"."),(0,l.kt)("p",null,"Can also use ",(0,l.kt)("inlineCode",{parentName:"p"},"zi update --all")," to update all snippets (and plugins)."),(0,l.kt)("h3",{id:"the-fundamental-difference-between-load-and-light"},"The fundamental difference between ",(0,l.kt)("inlineCode",{parentName:"h3"},"load")," and ",(0,l.kt)("inlineCode",{parentName:"h3"},"light")),(0,l.kt)("p",null,"Plugin history-search-multi-word loaded with investigating:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi load z-shell/H-S-MW\n")),(0,l.kt)("p",null,"Two regular plugins loaded without investigating:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi light zsh-users/zsh-autosuggestions\nzi light z-shell/F-Sy-H\n")),(0,l.kt)("p",null,"Snippet:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi snippet https://gist.githubusercontent.com/hightemp/5071909/raw/\n")),(0,l.kt)("h3",{id:"a-glance-to-prompts"},"A Glance to prompts"),(0,l.kt)("p",null,"This is ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/romkatv/powerlevel10k"},"powerlevel10k"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/sindresorhus/pure"},"pure"),", ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/starship/starship"},"starship")," sample:"),(0,l.kt)("p",null,"Load powerlevel10k theme."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice depth"1"\nzi light romkatv/powerlevel10k\n')),(0,l.kt)("p",null,"Load pure theme"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Will pick the ",(0,l.kt)("inlineCode",{parentName:"li"},"async.zsh")," library and will source it.")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice pick"async.zsh" src"pure.zsh"\nzi light sindresorhus/pure\n')),(0,l.kt)("p",null,"Load starship theme:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"will pick ",(0,l.kt)("inlineCode",{parentName:"li"},"starship")," binary as a command, from the GitHub release"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"starship")," setup: ",(0,l.kt)("inlineCode",{parentName:"li"},"atclone")," create ",(0,l.kt)("inlineCode",{parentName:"li"},"init.zsh")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"completion")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"atpull")," behavior same as ",(0,l.kt)("inlineCode",{parentName:"li"},"atclone")," and will be used when running ",(0,l.kt)("inlineCode",{parentName:"li"},"zi update")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"src")," will source init.zsh")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice as"command" from"gh-r" \\\n  atclone"./starship init zsh > init.zsh; ./starship completions zsh > _starship" \\\n  atpull"%atclone" src"init.zsh"\nzi light starship/starship\n')),(0,l.kt)("h2",{id:"zi-upgrades"},"ZI Upgrades"),(0,l.kt)("p",null,"ZI can be updated to ",(0,l.kt)("inlineCode",{parentName:"p"},"self-update")," and plugins to ",(0,l.kt)("inlineCode",{parentName:"p"},"update"),"."),(0,l.kt)("p",null,"Self-update"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi self-update\n")),(0,l.kt)("p",null,"Update all plugins"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi update\n")),(0,l.kt)("p",null,"Update specific plugin. Default is GitHub but can specify any with ice ",(0,l.kt)("a",{parentName:"p",href:"/search?q=from"},"from''")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi update <user>/<repo>\n")),(0,l.kt)("p",null,"Plugin parallel update plugins"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi update --parallel\n")),(0,l.kt)("p",null,"Increase the number of jobs in a concurrent set to 40"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi update --parallel 40\n")),(0,l.kt)("h2",{id:"the-turbo-and-lucid"},"The Turbo and Lucid"),(0,l.kt)("p",null,"Turbo and lucid are the most used options."),(0,l.kt)("h3",{id:"turbo"},"Turbo"),(0,l.kt)("p",null,"Turbo mode is the key to performance."),(0,l.kt)("p",null,"It can be loaded asynchronously, which makes a huge difference when the amount of plugins increases."),(0,l.kt)("p",null,"Usually used as ",(0,l.kt)("inlineCode",{parentName:"p"},'zi ice wait"<SECONDS>"'),", let's use the previous example:"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The ",(0,l.kt)("inlineCode",{parentName:"p"},"wait")," and ",(0,l.kt)("inlineCode",{parentName:"p"},'wait"0"')," is the same"))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},"zi ice wait\nzi load z-shell/history-search-multi-word\n")),(0,l.kt)("p",null,"Load after 2 seconds:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'zi ice wait"2"\nzi load z-shell/history-search-multi-word\n')),(0,l.kt)("p",null,"Also can be used in ",(0,l.kt)("inlineCode",{parentName:"p"},"light")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"snippet"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice wait\nzi snippet https://gist.githubusercontent.com/hightemp/5071909/raw/\n")),(0,l.kt)("h3",{id:"lucid"},"Lucid"),(0,l.kt)("p",null,"Turbo mode is verbose, so you need an option for quiet. To achieve this the ",(0,l.kt)("inlineCode",{parentName:"p"},"lucid")," can be used.s"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice wait lucid\nzi load z-shell/history-search-multi-word\n")),(0,l.kt)("h3",{id:"some-examples-with-zi"},"Some examples with ZI"),(0,l.kt)("p",null,"After installing ZI you can start adding some actions (load some plugins) to ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc"),", at the bottom."),(0,l.kt)("p",null,"Some examples: Load the pure theme, with the zsh-async library that's bundled with it."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice pick"async.zsh" src"pure.zsh"\nzi light sindresorhus/pure\n')),(0,l.kt)("h3",{id:"as-glance-at-the-for-syntax"},"As glance at the ",(0,l.kt)("code",null,"for")," syntax"),(0,l.kt)("p",null,"Load all of the above plugins with a single command:"),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"To find more information about anything use ",(0,l.kt)("a",{parentName:"p",href:"/search?q=for+syntax"},"search")," or just ",(0,l.kt)("kbd",null,"CTRL+K"),"."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi light-mode for \\\n    zsh-users/zsh-autosuggestions \\\n    z-shell/F-Sy-H \\\n    z-shell/H-S-MW \\\n  pick"async.zsh" src"pure.zsh" \\\n    sindresorhus/pure\n')),(0,l.kt)("p",null,'Binary release in the archive, from GitHub-releases page. After automatic unpacking, it provides the program "fzf".'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice from"gh-r" as"program"\nzi light junegunn/fzf\n')),(0,l.kt)("p",null,"One other binary release needs renaming from ",(0,l.kt)("inlineCode",{parentName:"p"},"docker-compose-Linux-x86_64"),"."),(0,l.kt)("p",null,"This is done by ",(0,l.kt)("a",{parentName:"p",href:"/search?q=ice+modifiers"},"ice modifier"),": ",(0,l.kt)("inlineCode",{parentName:"p"},"mv'{from} -> {to}'"),"."),(0,l.kt)("p",null,"There are multiple packages per single version, for OS X, Linux, and Windows \u2013 so ice modifier ",(0,l.kt)("inlineCode",{parentName:"p"},"bpick")," is used to select\nLinux package \u2013 in this case, this is not needed, ZI will grep operating system name and architecture automatically when\nthere's no ",(0,l.kt)("inlineCode",{parentName:"p"},"bpick"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice from"gh-r" as"program" mv"docker* -> docker-compose" bpick"*linux*"\nzi load docker/compose\n')),(0,l.kt)("p",null,"Vim repository on GitHub \u2013 a typical source code that needs compilation, ZI can manage it for you if you like, run\n",(0,l.kt)("inlineCode",{parentName:"p"},"./configure")," and other ",(0,l.kt)("inlineCode",{parentName:"p"},"make")," stuff."),(0,l.kt)("p",null,"Ice modifier ",(0,l.kt)("inlineCode",{parentName:"p"},"pick")," selects a binary program to add to $PATH. You could also install the package under the path $ZPFX."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice as"program" atclone"rm -f src/auto/config.cache; ./configure" \\\n  atpull"%atclone" make pick"src/vim"\nzi light vim/vim\n')),(0,l.kt)("p",null,"Scripts that are built at install"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},'There\'s single default make target, "install", and it constructs scripts.')),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"make''")," ice could also be: ",(0,l.kt)("inlineCode",{parentName:"p"},'make"install PREFIX=$ZPFX"'),', if "install" wouldn\'t be the only, default target.'),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zi ice as"program" pick"$ZPFX/bin/git-*" make"PREFIX=$ZPFX"\nzi light tj/git-extras\n')),(0,l.kt)("p",null,"Handle completions without loading any plugin, see ",(0,l.kt)("inlineCode",{parentName:"p"},"clist")," command."),(0,l.kt)("p",null,"This one is to be run just once, in an interactive session."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},"zi creinstall %HOME/my_completions\n")),(0,l.kt)("p",null,"For GNU ls the binaries can be gls, gdircolors, but not on OS X when installing the coreutils package from Homebrew."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},"zi ice atclone\"dircolors -b LS_COLORS > c.zsh\" atpull'%atclone' pick\"c.zsh\" nocompile'!'\nzi light trapd00r/LS_COLORS\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"make'!'")," -> run make before ",(0,l.kt)("inlineCode",{parentName:"p"},"atclone")," & ",(0,l.kt)("inlineCode",{parentName:"p"},"atpull"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi ice as\"program\" make'!' atclone'./direnv hook zsh > zhook.zsh' atpull'%atclone' src\"zhook.zsh\"\nzi light direnv/direnv\n")),(0,l.kt)("p",null,"If you're interested to try out more then check out the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/z-shell/playground"},"playground repository")," where users have uploaded the\n",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc")," and other ZI configurations."),(0,l.kt)("p",null,"Feel free to ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/z-shell/playground/issues/new?template=request-to-add-zshrc-to-the-zi-configs-repo.md"},"submit")," your ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc")," there if it contains ZI commands."),(0,l.kt)("p",null,"For some additional examples you can also check out the:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/gallery/collection"},"Collection"),","),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/gallery/collection#oh-my-zsh"},"Oh-My-Zsh"),".")))}h.isMDXComponent=!0}}]);